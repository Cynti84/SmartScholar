<div class="signup-page">
  <div class="signup-container fade-in">
    <!-- Left Side - Form -->
    <div class="form-section">
      <div class="form-wrapper">
        <div class="form-header">
          <h1 class="form-title">
            Create an Account
            <span class="wave-emoji">üëã</span>
          </h1>
          <p class="form-subtitle">
            Start your journey with SmartScholar. Fill in your basic details to get started.
          </p>
        </div>

        <form class="signup-form" (ngSubmit)="onSubmit()" #signupForm="ngForm">
          <!-- First Name Field -->
          <div class="form-group">
            <label for="firstname" class="form-label">First Name*</label>
            <input
              type="text"
              id="firstname"
              name="firstname"
              class="form-input"
              placeholder="John"
              [(ngModel)]="formData.firstname"
              required
              #firstname="ngModel"
              [class.error]="firstname.invalid && firstname.touched"
            />
            <div *ngIf="firstname.invalid && firstname.touched" class="error-message">
              First name is required
            </div>
          </div>

          <!-- Last Name Field -->
          <div class="form-group">
            <label for="lastname" class="form-label">Last Name*</label>
            <input
              type="text"
              id="lastname"
              name="lastname"
              class="form-input"
              placeholder="Doe"
              [(ngModel)]="formData.lastname"
              required
              #lastname="ngModel"
              [class.error]="lastname.invalid && lastname.touched"
            />
            <div *ngIf="lastname.invalid && lastname.touched" class="error-message">
              Last name is required
            </div>
          </div>

          <!-- Email Field -->
          <div class="form-group">
            <label for="email" class="form-label">Email address*</label>
            <input
              type="email"
              id="email"
              name="email"
              class="form-input"
              placeholder="johndoe@email.com"
              [(ngModel)]="formData.email"
              required
              email
              #email="ngModel"
              [class.error]="email.invalid && email.touched"
            />
            <div *ngIf="email.invalid && email.touched" class="error-message">
              <span *ngIf="email.errors?.['required']">Email address is required</span>
              <span *ngIf="email.errors?.['email']">Please enter a valid email address</span>
            </div>
          </div>

          <!-- Password Field -->
          <div class="form-group">
            <label for="password" class="form-label">Create password*</label>
            <div class="password-wrapper">
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                name="password"
                class="form-input"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                [(ngModel)]="formData.password"
                required
                minlength="8"
                #password="ngModel"
                [class.error]="password.invalid && password.touched"
              />
              <button
                type="button"
                class="password-toggle"
                (click)="togglePassword()"
                [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'"
              >
                <svg
                  *ngIf="!showPassword"
                  class="eye-icon"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  ></path>
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  ></path>
                </svg>
                <svg
                  *ngIf="showPassword"
                  class="eye-icon"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"
                  ></path>
                </svg>
              </button>
            </div>

            <!-- Password Strength Indicator -->
            <div *ngIf="formData.password" class="password-strength">
              <div class="strength-bars">
                <div
                  class="strength-bar"
                  [class.active]="
                    getPasswordStrength() === 'weak' ||
                    getPasswordStrength() === 'medium' ||
                    getPasswordStrength() === 'strong'
                  "
                  [class.weak]="getPasswordStrength() === 'weak'"
                ></div>
                <div
                  class="strength-bar"
                  [class.active]="
                    getPasswordStrength() === 'medium' || getPasswordStrength() === 'strong'
                  "
                  [class.medium]="getPasswordStrength() === 'medium'"
                ></div>
                <div
                  class="strength-bar"
                  [class.active]="getPasswordStrength() === 'strong'"
                  [class.strong]="getPasswordStrength() === 'strong'"
                ></div>
              </div>
              <span class="strength-text" [class]="getPasswordStrength()">
                <span *ngIf="getPasswordStrength() === 'weak'">Weak password</span>
                <span *ngIf="getPasswordStrength() === 'medium'">Medium password</span>
                <span *ngIf="getPasswordStrength() === 'strong'">Strong password</span>
              </span>
            </div>

            <div *ngIf="password.invalid && password.touched" class="error-message">
              <span *ngIf="password.errors?.['required']">Password is required</span>
              <span *ngIf="password.errors?.['minlength']"
                >Password must be at least 8 characters</span
              >
            </div>
          </div>

          <!-- Role Selection -->
          <div class="form-group">
            <label class="form-label">I am a*</label>
            <div class="role-options">
              <label class="role-option" [class.selected]="formData.role === 'student'">
                <input
                  type="radio"
                  name="role"
                  value="student"
                  [(ngModel)]="formData.role"
                  required
                  #role="ngModel"
                  class="role-input"
                />
                <div class="role-card">
                  <div class="role-icon">üéì</div>
                  <div class="role-content">
                    <h3 class="role-title">Student</h3>
                    <p class="role-description">
                      Looking for scholarships and funding opportunities
                    </p>
                  </div>
                </div>
              </label>

              <label class="role-option" [class.selected]="formData.role === 'provider'">
                <input
                  type="radio"
                  name="role"
                  value="provider"
                  [(ngModel)]="formData.role"
                  required
                  class="role-input"
                />
                <div class="role-card">
                  <div class="role-icon">üè¢</div>
                  <div class="role-content">
                    <h3 class="role-title">Scholarship Provider</h3>
                    <p class="role-description">Offering scholarships and funding to students</p>
                  </div>
                </div>
              </label>
            </div>
            <div *ngIf="role.invalid && role.touched" class="error-message">
              Please select your role
            </div>
          </div>

          <!-- Terms and Conditions -->
          <div class="form-group checkbox-group">
            <label class="checkbox-wrapper">
              <input
                type="checkbox"
                name="agreeToTerms"
                [(ngModel)]="formData.agreeToTerms"
                required
                #terms="ngModel"
                class="checkbox-input"
              />
              <span class="checkbox-custom"></span>
              <span class="checkbox-label">
                I agree to
                <a href="/auth/terms" class="terms-link" target="_blank">terms & conditions</a>
              </span>
            </label>
            <div *ngIf="terms.invalid && terms.touched" class="error-message">
              You must agree to the terms and conditions
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="submit-btn"
            [disabled]="!signupForm.valid || isLoading"
            [class.loading]="isLoading"
          >
            <span *ngIf="!isLoading">Continue to Profile Setup</span>
            <span *ngIf="isLoading" class="loading-content">
              <svg class="loading-spinner" viewBox="0 0 24 24" fill="none">
                <circle
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="4"
                  opacity="0.3"
                />
                <path
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                  fill="currentColor"
                />
              </svg>
              Creating Account...
            </span>
          </button>

          <!-- Login Link -->
          <div class="login-link">
            <span class="login-text">Already have an account?</span>
            <a routerLink="/auth/login" class="login-link-btn">Login</a>
          </div>
        </form>
      </div>
    </div>

    <!-- Right Side - Image -->
    <div class="image-section">
      <div class="image-container">
        <img
          src="image1.png"
          alt="Happy students studying together"
          class="hero-image"
          loading="lazy"
        />
        <div class="image-overlay"></div>
      </div>
    </div>
  </div>
</div>
